execute if data entity @s Inventory[{tag:{RepairCost:0}}] run advancement grant @s only minecraft:husbandry/disenchant

advancement revoke @s[advancements={minecraft:husbandry/disenchant=false}] only minecraft:husbandry/disenchant_1